using System.Collections.Generic;
using System.Text.Json;
using Nps.Models.Maps;

namespace Nps.Tests.Models.Maps;

public class MapRetrieveParkBoundariesResponseTest : TestBase
{
    [Fact]
    public void FieldRoundtrip_Works()
    {
        var model = new MapRetrieveParkBoundariesResponse
        {
            ID = "abli",
            Geometry = new()
            {
                Coordinates =
                [
                    [
                        [
                            [-85.6371062169999, 37.611460235],
                            [-85.636381755, 37.612077341],
                            [-85.635495971, 37.611435726],
                            [-85.637544162, 37.609820461],
                            [-85.639230663, 37.6055079000001],
                            [-85.639563382, 37.6057470320001],
                            [-85.639534163, 37.605803629],
                            [-85.6393128509999, 37.606437891],
                            [-85.639168021, 37.6070044410001],
                            [-85.639057081, 37.607402032],
                            [-85.63888826, 37.6079143470001],
                            [-85.638666248, 37.6085366360001],
                            [-85.638037515, 37.6102791430001],
                            [-85.637961563, 37.6104706310001],
                            [-85.6378649279999, 37.6106561280001],
                            [-85.6377840439999, 37.6107835820001],
                            [-85.637499176, 37.611094957],
                            [-85.6371062169999, 37.611460235],
                            [-85.6371062169999, 37.611460235],
                        ],
                    ],
                    [
                        [
                            [-85.637193299, 37.6127633200001],
                            [-85.636878101, 37.6126500880001],
                            [-85.6366623549999, 37.6126334380001],
                            [-85.636390609, 37.6123834220001],
                            [-85.636619965, 37.6121718360001],
                            [-85.6372642709999, 37.6115667400001],
                            [-85.637656759, 37.6112019030001],
                            [-85.637963155, 37.610866469],
                            [-85.638051106, 37.610728405],
                            [-85.638154948, 37.6105297300001],
                            [-85.638236636, 37.610324614],
                            [-85.638865422, 37.608581863],
                            [-85.639088087, 37.6079577400001],
                            [-85.639258432, 37.6074407940001],
                            [-85.639370621, 37.6070387170001],
                            [-85.6395152, 37.606473147],
                            [-85.639616319, 37.6061303440001],
                            [-85.6396376289999, 37.6060703140001],
                            [-85.6397266829999, 37.6058644],
                            [-85.639900131, 37.6059675350001],
                            [-85.6402003009999, 37.6058025290001],
                            [-85.6403918189999, 37.6058383240001],
                            [-85.642589379, 37.606927199],
                            [-85.643429237, 37.6080961700001],
                            [-85.646001681, 37.6084527730001],
                            [-85.646439887, 37.6081934690001],
                            [-85.648967179, 37.6086991060001],
                            [-85.649181228, 37.60954595],
                            [-85.649169655, 37.6111267110001],
                            [-85.648763806, 37.6114895330001],
                            [-85.64824328, 37.6120663200001],
                            [-85.648817433, 37.612874634],
                            [-85.650380245, 37.6152926340001],
                            [-85.652150768, 37.6180041850001],
                            [-85.652197396, 37.618329363],
                            [-85.6514839069999, 37.6179431630001],
                            [-85.6507839829999, 37.6178242170001],
                            [-85.65025421, 37.6175852980001],
                            [-85.650112086, 37.6178424980001],
                            [-85.648830327, 37.617738107],
                            [-85.647848959, 37.6179112290001],
                            [-85.6474889689999, 37.6180273910001],
                            [-85.647245964, 37.618135533],
                            [-85.646775141, 37.6179090140001],
                            [-85.645749453, 37.6166885210001],
                            [-85.645479397, 37.6162008650001],
                            [-85.644911033, 37.61534119],
                            [-85.644662293, 37.6152134050001],
                            [-85.644143594, 37.6149841640001],
                            [-85.642667254, 37.6138255490001],
                            [-85.641578383, 37.613087314],
                            [-85.640816602, 37.6127168190001],
                            [-85.6402558949999, 37.6136692480001],
                            [-85.6395901879999, 37.6136133520001],
                            [-85.639359562, 37.6136493380001],
                            [-85.638728804, 37.613325693],
                            [-85.638207887, 37.6130715150001],
                            [-85.637193299, 37.6127633200001],
                            [-85.637193299, 37.6127633200001],
                        ],
                    ],
                    [
                        [
                            [-85.739319133, 37.531169359],
                            [-85.740773721, 37.5320971150001],
                            [-85.734873138, 37.533780898],
                            [-85.730639853, 37.5353625870001],
                            [-85.73055096, 37.5353998410001],
                            [-85.7315961639999, 37.535961075],
                            [-85.731596084, 37.5362925440001],
                            [-85.731061192, 37.5367402210001],
                            [-85.729570557, 37.5367065150001],
                            [-85.7290594689999, 37.5294924780001],
                            [-85.7349807589999, 37.5301228940001],
                            [-85.7379587, 37.530304288],
                            [-85.738799762, 37.5293059380001],
                            [-85.7402771659999, 37.5300512950001],
                            [-85.739319133, 37.531169359],
                            [-85.739319133, 37.531169359],
                        ],
                    ],
                ],
                Type = "MultiPolygon",
            },
            Properties = new() { ParkClass = "legislative and mask fill" },
            Type = "Feature",
        };

        string expectedID = "abli";
        Geometry expectedGeometry = new()
        {
            Coordinates =
            [
                [
                    [
                        [-85.6371062169999, 37.611460235],
                        [-85.636381755, 37.612077341],
                        [-85.635495971, 37.611435726],
                        [-85.637544162, 37.609820461],
                        [-85.639230663, 37.6055079000001],
                        [-85.639563382, 37.6057470320001],
                        [-85.639534163, 37.605803629],
                        [-85.6393128509999, 37.606437891],
                        [-85.639168021, 37.6070044410001],
                        [-85.639057081, 37.607402032],
                        [-85.63888826, 37.6079143470001],
                        [-85.638666248, 37.6085366360001],
                        [-85.638037515, 37.6102791430001],
                        [-85.637961563, 37.6104706310001],
                        [-85.6378649279999, 37.6106561280001],
                        [-85.6377840439999, 37.6107835820001],
                        [-85.637499176, 37.611094957],
                        [-85.6371062169999, 37.611460235],
                        [-85.6371062169999, 37.611460235],
                    ],
                ],
                [
                    [
                        [-85.637193299, 37.6127633200001],
                        [-85.636878101, 37.6126500880001],
                        [-85.6366623549999, 37.6126334380001],
                        [-85.636390609, 37.6123834220001],
                        [-85.636619965, 37.6121718360001],
                        [-85.6372642709999, 37.6115667400001],
                        [-85.637656759, 37.6112019030001],
                        [-85.637963155, 37.610866469],
                        [-85.638051106, 37.610728405],
                        [-85.638154948, 37.6105297300001],
                        [-85.638236636, 37.610324614],
                        [-85.638865422, 37.608581863],
                        [-85.639088087, 37.6079577400001],
                        [-85.639258432, 37.6074407940001],
                        [-85.639370621, 37.6070387170001],
                        [-85.6395152, 37.606473147],
                        [-85.639616319, 37.6061303440001],
                        [-85.6396376289999, 37.6060703140001],
                        [-85.6397266829999, 37.6058644],
                        [-85.639900131, 37.6059675350001],
                        [-85.6402003009999, 37.6058025290001],
                        [-85.6403918189999, 37.6058383240001],
                        [-85.642589379, 37.606927199],
                        [-85.643429237, 37.6080961700001],
                        [-85.646001681, 37.6084527730001],
                        [-85.646439887, 37.6081934690001],
                        [-85.648967179, 37.6086991060001],
                        [-85.649181228, 37.60954595],
                        [-85.649169655, 37.6111267110001],
                        [-85.648763806, 37.6114895330001],
                        [-85.64824328, 37.6120663200001],
                        [-85.648817433, 37.612874634],
                        [-85.650380245, 37.6152926340001],
                        [-85.652150768, 37.6180041850001],
                        [-85.652197396, 37.618329363],
                        [-85.6514839069999, 37.6179431630001],
                        [-85.6507839829999, 37.6178242170001],
                        [-85.65025421, 37.6175852980001],
                        [-85.650112086, 37.6178424980001],
                        [-85.648830327, 37.617738107],
                        [-85.647848959, 37.6179112290001],
                        [-85.6474889689999, 37.6180273910001],
                        [-85.647245964, 37.618135533],
                        [-85.646775141, 37.6179090140001],
                        [-85.645749453, 37.6166885210001],
                        [-85.645479397, 37.6162008650001],
                        [-85.644911033, 37.61534119],
                        [-85.644662293, 37.6152134050001],
                        [-85.644143594, 37.6149841640001],
                        [-85.642667254, 37.6138255490001],
                        [-85.641578383, 37.613087314],
                        [-85.640816602, 37.6127168190001],
                        [-85.6402558949999, 37.6136692480001],
                        [-85.6395901879999, 37.6136133520001],
                        [-85.639359562, 37.6136493380001],
                        [-85.638728804, 37.613325693],
                        [-85.638207887, 37.6130715150001],
                        [-85.637193299, 37.6127633200001],
                        [-85.637193299, 37.6127633200001],
                    ],
                ],
                [
                    [
                        [-85.739319133, 37.531169359],
                        [-85.740773721, 37.5320971150001],
                        [-85.734873138, 37.533780898],
                        [-85.730639853, 37.5353625870001],
                        [-85.73055096, 37.5353998410001],
                        [-85.7315961639999, 37.535961075],
                        [-85.731596084, 37.5362925440001],
                        [-85.731061192, 37.5367402210001],
                        [-85.729570557, 37.5367065150001],
                        [-85.7290594689999, 37.5294924780001],
                        [-85.7349807589999, 37.5301228940001],
                        [-85.7379587, 37.530304288],
                        [-85.738799762, 37.5293059380001],
                        [-85.7402771659999, 37.5300512950001],
                        [-85.739319133, 37.531169359],
                        [-85.739319133, 37.531169359],
                    ],
                ],
            ],
            Type = "MultiPolygon",
        };
        Properties expectedProperties = new() { ParkClass = "legislative and mask fill" };
        string expectedType = "Feature";

        Assert.Equal(expectedID, model.ID);
        Assert.Equal(expectedGeometry, model.Geometry);
        Assert.Equal(expectedProperties, model.Properties);
        Assert.Equal(expectedType, model.Type);
    }

    [Fact]
    public void SerializationRoundtrip_Works()
    {
        var model = new MapRetrieveParkBoundariesResponse
        {
            ID = "abli",
            Geometry = new()
            {
                Coordinates =
                [
                    [
                        [
                            [-85.6371062169999, 37.611460235],
                            [-85.636381755, 37.612077341],
                            [-85.635495971, 37.611435726],
                            [-85.637544162, 37.609820461],
                            [-85.639230663, 37.6055079000001],
                            [-85.639563382, 37.6057470320001],
                            [-85.639534163, 37.605803629],
                            [-85.6393128509999, 37.606437891],
                            [-85.639168021, 37.6070044410001],
                            [-85.639057081, 37.607402032],
                            [-85.63888826, 37.6079143470001],
                            [-85.638666248, 37.6085366360001],
                            [-85.638037515, 37.6102791430001],
                            [-85.637961563, 37.6104706310001],
                            [-85.6378649279999, 37.6106561280001],
                            [-85.6377840439999, 37.6107835820001],
                            [-85.637499176, 37.611094957],
                            [-85.6371062169999, 37.611460235],
                            [-85.6371062169999, 37.611460235],
                        ],
                    ],
                    [
                        [
                            [-85.637193299, 37.6127633200001],
                            [-85.636878101, 37.6126500880001],
                            [-85.6366623549999, 37.6126334380001],
                            [-85.636390609, 37.6123834220001],
                            [-85.636619965, 37.6121718360001],
                            [-85.6372642709999, 37.6115667400001],
                            [-85.637656759, 37.6112019030001],
                            [-85.637963155, 37.610866469],
                            [-85.638051106, 37.610728405],
                            [-85.638154948, 37.6105297300001],
                            [-85.638236636, 37.610324614],
                            [-85.638865422, 37.608581863],
                            [-85.639088087, 37.6079577400001],
                            [-85.639258432, 37.6074407940001],
                            [-85.639370621, 37.6070387170001],
                            [-85.6395152, 37.606473147],
                            [-85.639616319, 37.6061303440001],
                            [-85.6396376289999, 37.6060703140001],
                            [-85.6397266829999, 37.6058644],
                            [-85.639900131, 37.6059675350001],
                            [-85.6402003009999, 37.6058025290001],
                            [-85.6403918189999, 37.6058383240001],
                            [-85.642589379, 37.606927199],
                            [-85.643429237, 37.6080961700001],
                            [-85.646001681, 37.6084527730001],
                            [-85.646439887, 37.6081934690001],
                            [-85.648967179, 37.6086991060001],
                            [-85.649181228, 37.60954595],
                            [-85.649169655, 37.6111267110001],
                            [-85.648763806, 37.6114895330001],
                            [-85.64824328, 37.6120663200001],
                            [-85.648817433, 37.612874634],
                            [-85.650380245, 37.6152926340001],
                            [-85.652150768, 37.6180041850001],
                            [-85.652197396, 37.618329363],
                            [-85.6514839069999, 37.6179431630001],
                            [-85.6507839829999, 37.6178242170001],
                            [-85.65025421, 37.6175852980001],
                            [-85.650112086, 37.6178424980001],
                            [-85.648830327, 37.617738107],
                            [-85.647848959, 37.6179112290001],
                            [-85.6474889689999, 37.6180273910001],
                            [-85.647245964, 37.618135533],
                            [-85.646775141, 37.6179090140001],
                            [-85.645749453, 37.6166885210001],
                            [-85.645479397, 37.6162008650001],
                            [-85.644911033, 37.61534119],
                            [-85.644662293, 37.6152134050001],
                            [-85.644143594, 37.6149841640001],
                            [-85.642667254, 37.6138255490001],
                            [-85.641578383, 37.613087314],
                            [-85.640816602, 37.6127168190001],
                            [-85.6402558949999, 37.6136692480001],
                            [-85.6395901879999, 37.6136133520001],
                            [-85.639359562, 37.6136493380001],
                            [-85.638728804, 37.613325693],
                            [-85.638207887, 37.6130715150001],
                            [-85.637193299, 37.6127633200001],
                            [-85.637193299, 37.6127633200001],
                        ],
                    ],
                    [
                        [
                            [-85.739319133, 37.531169359],
                            [-85.740773721, 37.5320971150001],
                            [-85.734873138, 37.533780898],
                            [-85.730639853, 37.5353625870001],
                            [-85.73055096, 37.5353998410001],
                            [-85.7315961639999, 37.535961075],
                            [-85.731596084, 37.5362925440001],
                            [-85.731061192, 37.5367402210001],
                            [-85.729570557, 37.5367065150001],
                            [-85.7290594689999, 37.5294924780001],
                            [-85.7349807589999, 37.5301228940001],
                            [-85.7379587, 37.530304288],
                            [-85.738799762, 37.5293059380001],
                            [-85.7402771659999, 37.5300512950001],
                            [-85.739319133, 37.531169359],
                            [-85.739319133, 37.531169359],
                        ],
                    ],
                ],
                Type = "MultiPolygon",
            },
            Properties = new() { ParkClass = "legislative and mask fill" },
            Type = "Feature",
        };

        string json = JsonSerializer.Serialize(model);
        var deserialized = JsonSerializer.Deserialize<MapRetrieveParkBoundariesResponse>(json);

        Assert.Equal(model, deserialized);
    }

    [Fact]
    public void FieldRoundtripThroughSerialization_Works()
    {
        var model = new MapRetrieveParkBoundariesResponse
        {
            ID = "abli",
            Geometry = new()
            {
                Coordinates =
                [
                    [
                        [
                            [-85.6371062169999, 37.611460235],
                            [-85.636381755, 37.612077341],
                            [-85.635495971, 37.611435726],
                            [-85.637544162, 37.609820461],
                            [-85.639230663, 37.6055079000001],
                            [-85.639563382, 37.6057470320001],
                            [-85.639534163, 37.605803629],
                            [-85.6393128509999, 37.606437891],
                            [-85.639168021, 37.6070044410001],
                            [-85.639057081, 37.607402032],
                            [-85.63888826, 37.6079143470001],
                            [-85.638666248, 37.6085366360001],
                            [-85.638037515, 37.6102791430001],
                            [-85.637961563, 37.6104706310001],
                            [-85.6378649279999, 37.6106561280001],
                            [-85.6377840439999, 37.6107835820001],
                            [-85.637499176, 37.611094957],
                            [-85.6371062169999, 37.611460235],
                            [-85.6371062169999, 37.611460235],
                        ],
                    ],
                    [
                        [
                            [-85.637193299, 37.6127633200001],
                            [-85.636878101, 37.6126500880001],
                            [-85.6366623549999, 37.6126334380001],
                            [-85.636390609, 37.6123834220001],
                            [-85.636619965, 37.6121718360001],
                            [-85.6372642709999, 37.6115667400001],
                            [-85.637656759, 37.6112019030001],
                            [-85.637963155, 37.610866469],
                            [-85.638051106, 37.610728405],
                            [-85.638154948, 37.6105297300001],
                            [-85.638236636, 37.610324614],
                            [-85.638865422, 37.608581863],
                            [-85.639088087, 37.6079577400001],
                            [-85.639258432, 37.6074407940001],
                            [-85.639370621, 37.6070387170001],
                            [-85.6395152, 37.606473147],
                            [-85.639616319, 37.6061303440001],
                            [-85.6396376289999, 37.6060703140001],
                            [-85.6397266829999, 37.6058644],
                            [-85.639900131, 37.6059675350001],
                            [-85.6402003009999, 37.6058025290001],
                            [-85.6403918189999, 37.6058383240001],
                            [-85.642589379, 37.606927199],
                            [-85.643429237, 37.6080961700001],
                            [-85.646001681, 37.6084527730001],
                            [-85.646439887, 37.6081934690001],
                            [-85.648967179, 37.6086991060001],
                            [-85.649181228, 37.60954595],
                            [-85.649169655, 37.6111267110001],
                            [-85.648763806, 37.6114895330001],
                            [-85.64824328, 37.6120663200001],
                            [-85.648817433, 37.612874634],
                            [-85.650380245, 37.6152926340001],
                            [-85.652150768, 37.6180041850001],
                            [-85.652197396, 37.618329363],
                            [-85.6514839069999, 37.6179431630001],
                            [-85.6507839829999, 37.6178242170001],
                            [-85.65025421, 37.6175852980001],
                            [-85.650112086, 37.6178424980001],
                            [-85.648830327, 37.617738107],
                            [-85.647848959, 37.6179112290001],
                            [-85.6474889689999, 37.6180273910001],
                            [-85.647245964, 37.618135533],
                            [-85.646775141, 37.6179090140001],
                            [-85.645749453, 37.6166885210001],
                            [-85.645479397, 37.6162008650001],
                            [-85.644911033, 37.61534119],
                            [-85.644662293, 37.6152134050001],
                            [-85.644143594, 37.6149841640001],
                            [-85.642667254, 37.6138255490001],
                            [-85.641578383, 37.613087314],
                            [-85.640816602, 37.6127168190001],
                            [-85.6402558949999, 37.6136692480001],
                            [-85.6395901879999, 37.6136133520001],
                            [-85.639359562, 37.6136493380001],
                            [-85.638728804, 37.613325693],
                            [-85.638207887, 37.6130715150001],
                            [-85.637193299, 37.6127633200001],
                            [-85.637193299, 37.6127633200001],
                        ],
                    ],
                    [
                        [
                            [-85.739319133, 37.531169359],
                            [-85.740773721, 37.5320971150001],
                            [-85.734873138, 37.533780898],
                            [-85.730639853, 37.5353625870001],
                            [-85.73055096, 37.5353998410001],
                            [-85.7315961639999, 37.535961075],
                            [-85.731596084, 37.5362925440001],
                            [-85.731061192, 37.5367402210001],
                            [-85.729570557, 37.5367065150001],
                            [-85.7290594689999, 37.5294924780001],
                            [-85.7349807589999, 37.5301228940001],
                            [-85.7379587, 37.530304288],
                            [-85.738799762, 37.5293059380001],
                            [-85.7402771659999, 37.5300512950001],
                            [-85.739319133, 37.531169359],
                            [-85.739319133, 37.531169359],
                        ],
                    ],
                ],
                Type = "MultiPolygon",
            },
            Properties = new() { ParkClass = "legislative and mask fill" },
            Type = "Feature",
        };

        string element = JsonSerializer.Serialize(model);
        var deserialized = JsonSerializer.Deserialize<MapRetrieveParkBoundariesResponse>(element);
        Assert.NotNull(deserialized);

        string expectedID = "abli";
        Geometry expectedGeometry = new()
        {
            Coordinates =
            [
                [
                    [
                        [-85.6371062169999, 37.611460235],
                        [-85.636381755, 37.612077341],
                        [-85.635495971, 37.611435726],
                        [-85.637544162, 37.609820461],
                        [-85.639230663, 37.6055079000001],
                        [-85.639563382, 37.6057470320001],
                        [-85.639534163, 37.605803629],
                        [-85.6393128509999, 37.606437891],
                        [-85.639168021, 37.6070044410001],
                        [-85.639057081, 37.607402032],
                        [-85.63888826, 37.6079143470001],
                        [-85.638666248, 37.6085366360001],
                        [-85.638037515, 37.6102791430001],
                        [-85.637961563, 37.6104706310001],
                        [-85.6378649279999, 37.6106561280001],
                        [-85.6377840439999, 37.6107835820001],
                        [-85.637499176, 37.611094957],
                        [-85.6371062169999, 37.611460235],
                        [-85.6371062169999, 37.611460235],
                    ],
                ],
                [
                    [
                        [-85.637193299, 37.6127633200001],
                        [-85.636878101, 37.6126500880001],
                        [-85.6366623549999, 37.6126334380001],
                        [-85.636390609, 37.6123834220001],
                        [-85.636619965, 37.6121718360001],
                        [-85.6372642709999, 37.6115667400001],
                        [-85.637656759, 37.6112019030001],
                        [-85.637963155, 37.610866469],
                        [-85.638051106, 37.610728405],
                        [-85.638154948, 37.6105297300001],
                        [-85.638236636, 37.610324614],
                        [-85.638865422, 37.608581863],
                        [-85.639088087, 37.6079577400001],
                        [-85.639258432, 37.6074407940001],
                        [-85.639370621, 37.6070387170001],
                        [-85.6395152, 37.606473147],
                        [-85.639616319, 37.6061303440001],
                        [-85.6396376289999, 37.6060703140001],
                        [-85.6397266829999, 37.6058644],
                        [-85.639900131, 37.6059675350001],
                        [-85.6402003009999, 37.6058025290001],
                        [-85.6403918189999, 37.6058383240001],
                        [-85.642589379, 37.606927199],
                        [-85.643429237, 37.6080961700001],
                        [-85.646001681, 37.6084527730001],
                        [-85.646439887, 37.6081934690001],
                        [-85.648967179, 37.6086991060001],
                        [-85.649181228, 37.60954595],
                        [-85.649169655, 37.6111267110001],
                        [-85.648763806, 37.6114895330001],
                        [-85.64824328, 37.6120663200001],
                        [-85.648817433, 37.612874634],
                        [-85.650380245, 37.6152926340001],
                        [-85.652150768, 37.6180041850001],
                        [-85.652197396, 37.618329363],
                        [-85.6514839069999, 37.6179431630001],
                        [-85.6507839829999, 37.6178242170001],
                        [-85.65025421, 37.6175852980001],
                        [-85.650112086, 37.6178424980001],
                        [-85.648830327, 37.617738107],
                        [-85.647848959, 37.6179112290001],
                        [-85.6474889689999, 37.6180273910001],
                        [-85.647245964, 37.618135533],
                        [-85.646775141, 37.6179090140001],
                        [-85.645749453, 37.6166885210001],
                        [-85.645479397, 37.6162008650001],
                        [-85.644911033, 37.61534119],
                        [-85.644662293, 37.6152134050001],
                        [-85.644143594, 37.6149841640001],
                        [-85.642667254, 37.6138255490001],
                        [-85.641578383, 37.613087314],
                        [-85.640816602, 37.6127168190001],
                        [-85.6402558949999, 37.6136692480001],
                        [-85.6395901879999, 37.6136133520001],
                        [-85.639359562, 37.6136493380001],
                        [-85.638728804, 37.613325693],
                        [-85.638207887, 37.6130715150001],
                        [-85.637193299, 37.6127633200001],
                        [-85.637193299, 37.6127633200001],
                    ],
                ],
                [
                    [
                        [-85.739319133, 37.531169359],
                        [-85.740773721, 37.5320971150001],
                        [-85.734873138, 37.533780898],
                        [-85.730639853, 37.5353625870001],
                        [-85.73055096, 37.5353998410001],
                        [-85.7315961639999, 37.535961075],
                        [-85.731596084, 37.5362925440001],
                        [-85.731061192, 37.5367402210001],
                        [-85.729570557, 37.5367065150001],
                        [-85.7290594689999, 37.5294924780001],
                        [-85.7349807589999, 37.5301228940001],
                        [-85.7379587, 37.530304288],
                        [-85.738799762, 37.5293059380001],
                        [-85.7402771659999, 37.5300512950001],
                        [-85.739319133, 37.531169359],
                        [-85.739319133, 37.531169359],
                    ],
                ],
            ],
            Type = "MultiPolygon",
        };
        Properties expectedProperties = new() { ParkClass = "legislative and mask fill" };
        string expectedType = "Feature";

        Assert.Equal(expectedID, deserialized.ID);
        Assert.Equal(expectedGeometry, deserialized.Geometry);
        Assert.Equal(expectedProperties, deserialized.Properties);
        Assert.Equal(expectedType, deserialized.Type);
    }

    [Fact]
    public void Validation_Works()
    {
        var model = new MapRetrieveParkBoundariesResponse
        {
            ID = "abli",
            Geometry = new()
            {
                Coordinates =
                [
                    [
                        [
                            [-85.6371062169999, 37.611460235],
                            [-85.636381755, 37.612077341],
                            [-85.635495971, 37.611435726],
                            [-85.637544162, 37.609820461],
                            [-85.639230663, 37.6055079000001],
                            [-85.639563382, 37.6057470320001],
                            [-85.639534163, 37.605803629],
                            [-85.6393128509999, 37.606437891],
                            [-85.639168021, 37.6070044410001],
                            [-85.639057081, 37.607402032],
                            [-85.63888826, 37.6079143470001],
                            [-85.638666248, 37.6085366360001],
                            [-85.638037515, 37.6102791430001],
                            [-85.637961563, 37.6104706310001],
                            [-85.6378649279999, 37.6106561280001],
                            [-85.6377840439999, 37.6107835820001],
                            [-85.637499176, 37.611094957],
                            [-85.6371062169999, 37.611460235],
                            [-85.6371062169999, 37.611460235],
                        ],
                    ],
                    [
                        [
                            [-85.637193299, 37.6127633200001],
                            [-85.636878101, 37.6126500880001],
                            [-85.6366623549999, 37.6126334380001],
                            [-85.636390609, 37.6123834220001],
                            [-85.636619965, 37.6121718360001],
                            [-85.6372642709999, 37.6115667400001],
                            [-85.637656759, 37.6112019030001],
                            [-85.637963155, 37.610866469],
                            [-85.638051106, 37.610728405],
                            [-85.638154948, 37.6105297300001],
                            [-85.638236636, 37.610324614],
                            [-85.638865422, 37.608581863],
                            [-85.639088087, 37.6079577400001],
                            [-85.639258432, 37.6074407940001],
                            [-85.639370621, 37.6070387170001],
                            [-85.6395152, 37.606473147],
                            [-85.639616319, 37.6061303440001],
                            [-85.6396376289999, 37.6060703140001],
                            [-85.6397266829999, 37.6058644],
                            [-85.639900131, 37.6059675350001],
                            [-85.6402003009999, 37.6058025290001],
                            [-85.6403918189999, 37.6058383240001],
                            [-85.642589379, 37.606927199],
                            [-85.643429237, 37.6080961700001],
                            [-85.646001681, 37.6084527730001],
                            [-85.646439887, 37.6081934690001],
                            [-85.648967179, 37.6086991060001],
                            [-85.649181228, 37.60954595],
                            [-85.649169655, 37.6111267110001],
                            [-85.648763806, 37.6114895330001],
                            [-85.64824328, 37.6120663200001],
                            [-85.648817433, 37.612874634],
                            [-85.650380245, 37.6152926340001],
                            [-85.652150768, 37.6180041850001],
                            [-85.652197396, 37.618329363],
                            [-85.6514839069999, 37.6179431630001],
                            [-85.6507839829999, 37.6178242170001],
                            [-85.65025421, 37.6175852980001],
                            [-85.650112086, 37.6178424980001],
                            [-85.648830327, 37.617738107],
                            [-85.647848959, 37.6179112290001],
                            [-85.6474889689999, 37.6180273910001],
                            [-85.647245964, 37.618135533],
                            [-85.646775141, 37.6179090140001],
                            [-85.645749453, 37.6166885210001],
                            [-85.645479397, 37.6162008650001],
                            [-85.644911033, 37.61534119],
                            [-85.644662293, 37.6152134050001],
                            [-85.644143594, 37.6149841640001],
                            [-85.642667254, 37.6138255490001],
                            [-85.641578383, 37.613087314],
                            [-85.640816602, 37.6127168190001],
                            [-85.6402558949999, 37.6136692480001],
                            [-85.6395901879999, 37.6136133520001],
                            [-85.639359562, 37.6136493380001],
                            [-85.638728804, 37.613325693],
                            [-85.638207887, 37.6130715150001],
                            [-85.637193299, 37.6127633200001],
                            [-85.637193299, 37.6127633200001],
                        ],
                    ],
                    [
                        [
                            [-85.739319133, 37.531169359],
                            [-85.740773721, 37.5320971150001],
                            [-85.734873138, 37.533780898],
                            [-85.730639853, 37.5353625870001],
                            [-85.73055096, 37.5353998410001],
                            [-85.7315961639999, 37.535961075],
                            [-85.731596084, 37.5362925440001],
                            [-85.731061192, 37.5367402210001],
                            [-85.729570557, 37.5367065150001],
                            [-85.7290594689999, 37.5294924780001],
                            [-85.7349807589999, 37.5301228940001],
                            [-85.7379587, 37.530304288],
                            [-85.738799762, 37.5293059380001],
                            [-85.7402771659999, 37.5300512950001],
                            [-85.739319133, 37.531169359],
                            [-85.739319133, 37.531169359],
                        ],
                    ],
                ],
                Type = "MultiPolygon",
            },
            Properties = new() { ParkClass = "legislative and mask fill" },
            Type = "Feature",
        };

        model.Validate();
    }

    [Fact]
    public void OptionalNonNullablePropertiesUnsetAreNotSet_Works()
    {
        var model = new MapRetrieveParkBoundariesResponse { };

        Assert.Null(model.ID);
        Assert.False(model.RawData.ContainsKey("id"));
        Assert.Null(model.Geometry);
        Assert.False(model.RawData.ContainsKey("geometry"));
        Assert.Null(model.Properties);
        Assert.False(model.RawData.ContainsKey("properties"));
        Assert.Null(model.Type);
        Assert.False(model.RawData.ContainsKey("type"));
    }

    [Fact]
    public void OptionalNonNullablePropertiesUnsetValidation_Works()
    {
        var model = new MapRetrieveParkBoundariesResponse { };

        model.Validate();
    }

    [Fact]
    public void OptionalNonNullablePropertiesSetToNullAreNotSet_Works()
    {
        var model = new MapRetrieveParkBoundariesResponse
        {
            // Null should be interpreted as omitted for these properties
            ID = null,
            Geometry = null,
            Properties = null,
            Type = null,
        };

        Assert.Null(model.ID);
        Assert.False(model.RawData.ContainsKey("id"));
        Assert.Null(model.Geometry);
        Assert.False(model.RawData.ContainsKey("geometry"));
        Assert.Null(model.Properties);
        Assert.False(model.RawData.ContainsKey("properties"));
        Assert.Null(model.Type);
        Assert.False(model.RawData.ContainsKey("type"));
    }

    [Fact]
    public void OptionalNonNullablePropertiesSetToNullValidation_Works()
    {
        var model = new MapRetrieveParkBoundariesResponse
        {
            // Null should be interpreted as omitted for these properties
            ID = null,
            Geometry = null,
            Properties = null,
            Type = null,
        };

        model.Validate();
    }
}

public class GeometryTest : TestBase
{
    [Fact]
    public void FieldRoundtrip_Works()
    {
        var model = new Geometry
        {
            Coordinates =
            [
                [
                    [
                        [0, 0],
                    ],
                ],
            ],
            Type = "MultiPolygon",
        };

        List<List<List<List<double>>>> expectedCoordinates =
        [
            [
                [
                    [0, 0],
                ],
            ],
        ];
        string expectedType = "MultiPolygon";

        Assert.NotNull(model.Coordinates);
        Assert.Equal(expectedCoordinates.Count, model.Coordinates.Count);
        for (int i = 0; i < expectedCoordinates.Count; i++)
        {
            Assert.Equal(expectedCoordinates[i].Count, model.Coordinates[i].Count);
            for (int i1 = 0; i1 < expectedCoordinates[i].Count; i1++)
            {
                Assert.Equal(expectedCoordinates[i][i1].Count, model.Coordinates[i][i1].Count);
                for (int i2 = 0; i2 < expectedCoordinates[i][i1].Count; i2++)
                {
                    Assert.Equal(
                        expectedCoordinates[i][i1][i2].Count,
                        model.Coordinates[i][i1][i2].Count
                    );
                    for (int i3 = 0; i3 < expectedCoordinates[i][i1][i2].Count; i3++)
                    {
                        Assert.Equal(
                            expectedCoordinates[i][i1][i2][i3],
                            model.Coordinates[i][i1][i2][i3]
                        );
                    }
                }
            }
        }
        Assert.Equal(expectedType, model.Type);
    }

    [Fact]
    public void SerializationRoundtrip_Works()
    {
        var model = new Geometry
        {
            Coordinates =
            [
                [
                    [
                        [0, 0],
                    ],
                ],
            ],
            Type = "MultiPolygon",
        };

        string json = JsonSerializer.Serialize(model);
        var deserialized = JsonSerializer.Deserialize<Geometry>(json);

        Assert.Equal(model, deserialized);
    }

    [Fact]
    public void FieldRoundtripThroughSerialization_Works()
    {
        var model = new Geometry
        {
            Coordinates =
            [
                [
                    [
                        [0, 0],
                    ],
                ],
            ],
            Type = "MultiPolygon",
        };

        string element = JsonSerializer.Serialize(model);
        var deserialized = JsonSerializer.Deserialize<Geometry>(element);
        Assert.NotNull(deserialized);

        List<List<List<List<double>>>> expectedCoordinates =
        [
            [
                [
                    [0, 0],
                ],
            ],
        ];
        string expectedType = "MultiPolygon";

        Assert.NotNull(deserialized.Coordinates);
        Assert.Equal(expectedCoordinates.Count, deserialized.Coordinates.Count);
        for (int i = 0; i < expectedCoordinates.Count; i++)
        {
            Assert.Equal(expectedCoordinates[i].Count, deserialized.Coordinates[i].Count);
            for (int i1 = 0; i1 < expectedCoordinates[i].Count; i1++)
            {
                Assert.Equal(
                    expectedCoordinates[i][i1].Count,
                    deserialized.Coordinates[i][i1].Count
                );
                for (int i2 = 0; i2 < expectedCoordinates[i][i1].Count; i2++)
                {
                    Assert.Equal(
                        expectedCoordinates[i][i1][i2].Count,
                        deserialized.Coordinates[i][i1][i2].Count
                    );
                    for (int i3 = 0; i3 < expectedCoordinates[i][i1][i2].Count; i3++)
                    {
                        Assert.Equal(
                            expectedCoordinates[i][i1][i2][i3],
                            deserialized.Coordinates[i][i1][i2][i3]
                        );
                    }
                }
            }
        }
        Assert.Equal(expectedType, deserialized.Type);
    }

    [Fact]
    public void Validation_Works()
    {
        var model = new Geometry
        {
            Coordinates =
            [
                [
                    [
                        [0, 0],
                    ],
                ],
            ],
            Type = "MultiPolygon",
        };

        model.Validate();
    }

    [Fact]
    public void OptionalNonNullablePropertiesUnsetAreNotSet_Works()
    {
        var model = new Geometry { };

        Assert.Null(model.Coordinates);
        Assert.False(model.RawData.ContainsKey("coordinates"));
        Assert.Null(model.Type);
        Assert.False(model.RawData.ContainsKey("type"));
    }

    [Fact]
    public void OptionalNonNullablePropertiesUnsetValidation_Works()
    {
        var model = new Geometry { };

        model.Validate();
    }

    [Fact]
    public void OptionalNonNullablePropertiesSetToNullAreNotSet_Works()
    {
        var model = new Geometry
        {
            // Null should be interpreted as omitted for these properties
            Coordinates = null,
            Type = null,
        };

        Assert.Null(model.Coordinates);
        Assert.False(model.RawData.ContainsKey("coordinates"));
        Assert.Null(model.Type);
        Assert.False(model.RawData.ContainsKey("type"));
    }

    [Fact]
    public void OptionalNonNullablePropertiesSetToNullValidation_Works()
    {
        var model = new Geometry
        {
            // Null should be interpreted as omitted for these properties
            Coordinates = null,
            Type = null,
        };

        model.Validate();
    }
}

public class PropertiesTest : TestBase
{
    [Fact]
    public void FieldRoundtrip_Works()
    {
        var model = new Properties { ParkClass = "legislative and mask fill" };

        string expectedParkClass = "legislative and mask fill";

        Assert.Equal(expectedParkClass, model.ParkClass);
    }

    [Fact]
    public void SerializationRoundtrip_Works()
    {
        var model = new Properties { ParkClass = "legislative and mask fill" };

        string json = JsonSerializer.Serialize(model);
        var deserialized = JsonSerializer.Deserialize<Properties>(json);

        Assert.Equal(model, deserialized);
    }

    [Fact]
    public void FieldRoundtripThroughSerialization_Works()
    {
        var model = new Properties { ParkClass = "legislative and mask fill" };

        string element = JsonSerializer.Serialize(model);
        var deserialized = JsonSerializer.Deserialize<Properties>(element);
        Assert.NotNull(deserialized);

        string expectedParkClass = "legislative and mask fill";

        Assert.Equal(expectedParkClass, deserialized.ParkClass);
    }

    [Fact]
    public void Validation_Works()
    {
        var model = new Properties { ParkClass = "legislative and mask fill" };

        model.Validate();
    }

    [Fact]
    public void OptionalNonNullablePropertiesUnsetAreNotSet_Works()
    {
        var model = new Properties { };

        Assert.Null(model.ParkClass);
        Assert.False(model.RawData.ContainsKey("parkClass"));
    }

    [Fact]
    public void OptionalNonNullablePropertiesUnsetValidation_Works()
    {
        var model = new Properties { };

        model.Validate();
    }

    [Fact]
    public void OptionalNonNullablePropertiesSetToNullAreNotSet_Works()
    {
        var model = new Properties
        {
            // Null should be interpreted as omitted for these properties
            ParkClass = null,
        };

        Assert.Null(model.ParkClass);
        Assert.False(model.RawData.ContainsKey("parkClass"));
    }

    [Fact]
    public void OptionalNonNullablePropertiesSetToNullValidation_Works()
    {
        var model = new Properties
        {
            // Null should be interpreted as omitted for these properties
            ParkClass = null,
        };

        model.Validate();
    }
}
