using System.Collections.Generic;
using System.Text.Json;
using Nps.Models.Mapdata;

namespace Nps.Tests.Models.Mapdata;

public class MapdataRetrieveParkBoundariesResponseTest : TestBase
{
    [Fact]
    public void FieldRoundtrip_Works()
    {
        var model = new MapdataRetrieveParkBoundariesResponse
        {
            ID = "abli",
            Geometry = new()
            {
                Coordinates =
                [
                    [
                        [
                            new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                            new() { U0 = -85.636381755, U1 = 37.612077341 },
                            new() { U0 = -85.635495971, U1 = 37.611435726 },
                            new() { U0 = -85.637544162, U1 = 37.609820461 },
                            new() { U0 = -85.639230663, U1 = 37.6055079000001 },
                            new() { U0 = -85.639563382, U1 = 37.6057470320001 },
                            new() { U0 = -85.639534163, U1 = 37.605803629 },
                            new() { U0 = -85.6393128509999, U1 = 37.606437891 },
                            new() { U0 = -85.639168021, U1 = 37.6070044410001 },
                            new() { U0 = -85.639057081, U1 = 37.607402032 },
                            new() { U0 = -85.63888826, U1 = 37.6079143470001 },
                            new() { U0 = -85.638666248, U1 = 37.6085366360001 },
                            new() { U0 = -85.638037515, U1 = 37.6102791430001 },
                            new() { U0 = -85.637961563, U1 = 37.6104706310001 },
                            new() { U0 = -85.6378649279999, U1 = 37.6106561280001 },
                            new() { U0 = -85.6377840439999, U1 = 37.6107835820001 },
                            new() { U0 = -85.637499176, U1 = 37.611094957 },
                            new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                            new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                        ],
                    ],
                    [
                        [
                            new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                            new() { U0 = -85.636878101, U1 = 37.6126500880001 },
                            new() { U0 = -85.6366623549999, U1 = 37.6126334380001 },
                            new() { U0 = -85.636390609, U1 = 37.6123834220001 },
                            new() { U0 = -85.636619965, U1 = 37.6121718360001 },
                            new() { U0 = -85.6372642709999, U1 = 37.6115667400001 },
                            new() { U0 = -85.637656759, U1 = 37.6112019030001 },
                            new() { U0 = -85.637963155, U1 = 37.610866469 },
                            new() { U0 = -85.638051106, U1 = 37.610728405 },
                            new() { U0 = -85.638154948, U1 = 37.6105297300001 },
                            new() { U0 = -85.638236636, U1 = 37.610324614 },
                            new() { U0 = -85.638865422, U1 = 37.608581863 },
                            new() { U0 = -85.639088087, U1 = 37.6079577400001 },
                            new() { U0 = -85.639258432, U1 = 37.6074407940001 },
                            new() { U0 = -85.639370621, U1 = 37.6070387170001 },
                            new() { U0 = -85.6395152, U1 = 37.606473147 },
                            new() { U0 = -85.639616319, U1 = 37.6061303440001 },
                            new() { U0 = -85.6396376289999, U1 = 37.6060703140001 },
                            new() { U0 = -85.6397266829999, U1 = 37.6058644 },
                            new() { U0 = -85.639900131, U1 = 37.6059675350001 },
                            new() { U0 = -85.6402003009999, U1 = 37.6058025290001 },
                            new() { U0 = -85.6403918189999, U1 = 37.6058383240001 },
                            new() { U0 = -85.642589379, U1 = 37.606927199 },
                            new() { U0 = -85.643429237, U1 = 37.6080961700001 },
                            new() { U0 = -85.646001681, U1 = 37.6084527730001 },
                            new() { U0 = -85.646439887, U1 = 37.6081934690001 },
                            new() { U0 = -85.648967179, U1 = 37.6086991060001 },
                            new() { U0 = -85.649181228, U1 = 37.60954595 },
                            new() { U0 = -85.649169655, U1 = 37.6111267110001 },
                            new() { U0 = -85.648763806, U1 = 37.6114895330001 },
                            new() { U0 = -85.64824328, U1 = 37.6120663200001 },
                            new() { U0 = -85.648817433, U1 = 37.612874634 },
                            new() { U0 = -85.650380245, U1 = 37.6152926340001 },
                            new() { U0 = -85.652150768, U1 = 37.6180041850001 },
                            new() { U0 = -85.652197396, U1 = 37.618329363 },
                            new() { U0 = -85.6514839069999, U1 = 37.6179431630001 },
                            new() { U0 = -85.6507839829999, U1 = 37.6178242170001 },
                            new() { U0 = -85.65025421, U1 = 37.6175852980001 },
                            new() { U0 = -85.650112086, U1 = 37.6178424980001 },
                            new() { U0 = -85.648830327, U1 = 37.617738107 },
                            new() { U0 = -85.647848959, U1 = 37.6179112290001 },
                            new() { U0 = -85.6474889689999, U1 = 37.6180273910001 },
                            new() { U0 = -85.647245964, U1 = 37.618135533 },
                            new() { U0 = -85.646775141, U1 = 37.6179090140001 },
                            new() { U0 = -85.645749453, U1 = 37.6166885210001 },
                            new() { U0 = -85.645479397, U1 = 37.6162008650001 },
                            new() { U0 = -85.644911033, U1 = 37.61534119 },
                            new() { U0 = -85.644662293, U1 = 37.6152134050001 },
                            new() { U0 = -85.644143594, U1 = 37.6149841640001 },
                            new() { U0 = -85.642667254, U1 = 37.6138255490001 },
                            new() { U0 = -85.641578383, U1 = 37.613087314 },
                            new() { U0 = -85.640816602, U1 = 37.6127168190001 },
                            new() { U0 = -85.6402558949999, U1 = 37.6136692480001 },
                            new() { U0 = -85.6395901879999, U1 = 37.6136133520001 },
                            new() { U0 = -85.639359562, U1 = 37.6136493380001 },
                            new() { U0 = -85.638728804, U1 = 37.613325693 },
                            new() { U0 = -85.638207887, U1 = 37.6130715150001 },
                            new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                            new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                        ],
                    ],
                    [
                        [
                            new() { U0 = -85.739319133, U1 = 37.531169359 },
                            new() { U0 = -85.740773721, U1 = 37.5320971150001 },
                            new() { U0 = -85.734873138, U1 = 37.533780898 },
                            new() { U0 = -85.730639853, U1 = 37.5353625870001 },
                            new() { U0 = -85.73055096, U1 = 37.5353998410001 },
                            new() { U0 = -85.7315961639999, U1 = 37.535961075 },
                            new() { U0 = -85.731596084, U1 = 37.5362925440001 },
                            new() { U0 = -85.731061192, U1 = 37.5367402210001 },
                            new() { U0 = -85.729570557, U1 = 37.5367065150001 },
                            new() { U0 = -85.7290594689999, U1 = 37.5294924780001 },
                            new() { U0 = -85.7349807589999, U1 = 37.5301228940001 },
                            new() { U0 = -85.7379587, U1 = 37.530304288 },
                            new() { U0 = -85.738799762, U1 = 37.5293059380001 },
                            new() { U0 = -85.7402771659999, U1 = 37.5300512950001 },
                            new() { U0 = -85.739319133, U1 = 37.531169359 },
                            new() { U0 = -85.739319133, U1 = 37.531169359 },
                        ],
                    ],
                ],
                Type = "MultiPolygon",
            },
            Properties = new() { ParkClass = "legislative and mask fill" },
            Type = "Feature",
        };

        string expectedID = "abli";
        Geometry expectedGeometry = new()
        {
            Coordinates =
            [
                [
                    [
                        new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                        new() { U0 = -85.636381755, U1 = 37.612077341 },
                        new() { U0 = -85.635495971, U1 = 37.611435726 },
                        new() { U0 = -85.637544162, U1 = 37.609820461 },
                        new() { U0 = -85.639230663, U1 = 37.6055079000001 },
                        new() { U0 = -85.639563382, U1 = 37.6057470320001 },
                        new() { U0 = -85.639534163, U1 = 37.605803629 },
                        new() { U0 = -85.6393128509999, U1 = 37.606437891 },
                        new() { U0 = -85.639168021, U1 = 37.6070044410001 },
                        new() { U0 = -85.639057081, U1 = 37.607402032 },
                        new() { U0 = -85.63888826, U1 = 37.6079143470001 },
                        new() { U0 = -85.638666248, U1 = 37.6085366360001 },
                        new() { U0 = -85.638037515, U1 = 37.6102791430001 },
                        new() { U0 = -85.637961563, U1 = 37.6104706310001 },
                        new() { U0 = -85.6378649279999, U1 = 37.6106561280001 },
                        new() { U0 = -85.6377840439999, U1 = 37.6107835820001 },
                        new() { U0 = -85.637499176, U1 = 37.611094957 },
                        new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                        new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                    ],
                ],
                [
                    [
                        new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                        new() { U0 = -85.636878101, U1 = 37.6126500880001 },
                        new() { U0 = -85.6366623549999, U1 = 37.6126334380001 },
                        new() { U0 = -85.636390609, U1 = 37.6123834220001 },
                        new() { U0 = -85.636619965, U1 = 37.6121718360001 },
                        new() { U0 = -85.6372642709999, U1 = 37.6115667400001 },
                        new() { U0 = -85.637656759, U1 = 37.6112019030001 },
                        new() { U0 = -85.637963155, U1 = 37.610866469 },
                        new() { U0 = -85.638051106, U1 = 37.610728405 },
                        new() { U0 = -85.638154948, U1 = 37.6105297300001 },
                        new() { U0 = -85.638236636, U1 = 37.610324614 },
                        new() { U0 = -85.638865422, U1 = 37.608581863 },
                        new() { U0 = -85.639088087, U1 = 37.6079577400001 },
                        new() { U0 = -85.639258432, U1 = 37.6074407940001 },
                        new() { U0 = -85.639370621, U1 = 37.6070387170001 },
                        new() { U0 = -85.6395152, U1 = 37.606473147 },
                        new() { U0 = -85.639616319, U1 = 37.6061303440001 },
                        new() { U0 = -85.6396376289999, U1 = 37.6060703140001 },
                        new() { U0 = -85.6397266829999, U1 = 37.6058644 },
                        new() { U0 = -85.639900131, U1 = 37.6059675350001 },
                        new() { U0 = -85.6402003009999, U1 = 37.6058025290001 },
                        new() { U0 = -85.6403918189999, U1 = 37.6058383240001 },
                        new() { U0 = -85.642589379, U1 = 37.606927199 },
                        new() { U0 = -85.643429237, U1 = 37.6080961700001 },
                        new() { U0 = -85.646001681, U1 = 37.6084527730001 },
                        new() { U0 = -85.646439887, U1 = 37.6081934690001 },
                        new() { U0 = -85.648967179, U1 = 37.6086991060001 },
                        new() { U0 = -85.649181228, U1 = 37.60954595 },
                        new() { U0 = -85.649169655, U1 = 37.6111267110001 },
                        new() { U0 = -85.648763806, U1 = 37.6114895330001 },
                        new() { U0 = -85.64824328, U1 = 37.6120663200001 },
                        new() { U0 = -85.648817433, U1 = 37.612874634 },
                        new() { U0 = -85.650380245, U1 = 37.6152926340001 },
                        new() { U0 = -85.652150768, U1 = 37.6180041850001 },
                        new() { U0 = -85.652197396, U1 = 37.618329363 },
                        new() { U0 = -85.6514839069999, U1 = 37.6179431630001 },
                        new() { U0 = -85.6507839829999, U1 = 37.6178242170001 },
                        new() { U0 = -85.65025421, U1 = 37.6175852980001 },
                        new() { U0 = -85.650112086, U1 = 37.6178424980001 },
                        new() { U0 = -85.648830327, U1 = 37.617738107 },
                        new() { U0 = -85.647848959, U1 = 37.6179112290001 },
                        new() { U0 = -85.6474889689999, U1 = 37.6180273910001 },
                        new() { U0 = -85.647245964, U1 = 37.618135533 },
                        new() { U0 = -85.646775141, U1 = 37.6179090140001 },
                        new() { U0 = -85.645749453, U1 = 37.6166885210001 },
                        new() { U0 = -85.645479397, U1 = 37.6162008650001 },
                        new() { U0 = -85.644911033, U1 = 37.61534119 },
                        new() { U0 = -85.644662293, U1 = 37.6152134050001 },
                        new() { U0 = -85.644143594, U1 = 37.6149841640001 },
                        new() { U0 = -85.642667254, U1 = 37.6138255490001 },
                        new() { U0 = -85.641578383, U1 = 37.613087314 },
                        new() { U0 = -85.640816602, U1 = 37.6127168190001 },
                        new() { U0 = -85.6402558949999, U1 = 37.6136692480001 },
                        new() { U0 = -85.6395901879999, U1 = 37.6136133520001 },
                        new() { U0 = -85.639359562, U1 = 37.6136493380001 },
                        new() { U0 = -85.638728804, U1 = 37.613325693 },
                        new() { U0 = -85.638207887, U1 = 37.6130715150001 },
                        new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                        new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                    ],
                ],
                [
                    [
                        new() { U0 = -85.739319133, U1 = 37.531169359 },
                        new() { U0 = -85.740773721, U1 = 37.5320971150001 },
                        new() { U0 = -85.734873138, U1 = 37.533780898 },
                        new() { U0 = -85.730639853, U1 = 37.5353625870001 },
                        new() { U0 = -85.73055096, U1 = 37.5353998410001 },
                        new() { U0 = -85.7315961639999, U1 = 37.535961075 },
                        new() { U0 = -85.731596084, U1 = 37.5362925440001 },
                        new() { U0 = -85.731061192, U1 = 37.5367402210001 },
                        new() { U0 = -85.729570557, U1 = 37.5367065150001 },
                        new() { U0 = -85.7290594689999, U1 = 37.5294924780001 },
                        new() { U0 = -85.7349807589999, U1 = 37.5301228940001 },
                        new() { U0 = -85.7379587, U1 = 37.530304288 },
                        new() { U0 = -85.738799762, U1 = 37.5293059380001 },
                        new() { U0 = -85.7402771659999, U1 = 37.5300512950001 },
                        new() { U0 = -85.739319133, U1 = 37.531169359 },
                        new() { U0 = -85.739319133, U1 = 37.531169359 },
                    ],
                ],
            ],
            Type = "MultiPolygon",
        };
        Properties expectedProperties = new() { ParkClass = "legislative and mask fill" };
        string expectedType = "Feature";

        Assert.Equal(expectedID, model.ID);
        Assert.Equal(expectedGeometry, model.Geometry);
        Assert.Equal(expectedProperties, model.Properties);
        Assert.Equal(expectedType, model.Type);
    }

    [Fact]
    public void SerializationRoundtrip_Works()
    {
        var model = new MapdataRetrieveParkBoundariesResponse
        {
            ID = "abli",
            Geometry = new()
            {
                Coordinates =
                [
                    [
                        [
                            new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                            new() { U0 = -85.636381755, U1 = 37.612077341 },
                            new() { U0 = -85.635495971, U1 = 37.611435726 },
                            new() { U0 = -85.637544162, U1 = 37.609820461 },
                            new() { U0 = -85.639230663, U1 = 37.6055079000001 },
                            new() { U0 = -85.639563382, U1 = 37.6057470320001 },
                            new() { U0 = -85.639534163, U1 = 37.605803629 },
                            new() { U0 = -85.6393128509999, U1 = 37.606437891 },
                            new() { U0 = -85.639168021, U1 = 37.6070044410001 },
                            new() { U0 = -85.639057081, U1 = 37.607402032 },
                            new() { U0 = -85.63888826, U1 = 37.6079143470001 },
                            new() { U0 = -85.638666248, U1 = 37.6085366360001 },
                            new() { U0 = -85.638037515, U1 = 37.6102791430001 },
                            new() { U0 = -85.637961563, U1 = 37.6104706310001 },
                            new() { U0 = -85.6378649279999, U1 = 37.6106561280001 },
                            new() { U0 = -85.6377840439999, U1 = 37.6107835820001 },
                            new() { U0 = -85.637499176, U1 = 37.611094957 },
                            new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                            new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                        ],
                    ],
                    [
                        [
                            new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                            new() { U0 = -85.636878101, U1 = 37.6126500880001 },
                            new() { U0 = -85.6366623549999, U1 = 37.6126334380001 },
                            new() { U0 = -85.636390609, U1 = 37.6123834220001 },
                            new() { U0 = -85.636619965, U1 = 37.6121718360001 },
                            new() { U0 = -85.6372642709999, U1 = 37.6115667400001 },
                            new() { U0 = -85.637656759, U1 = 37.6112019030001 },
                            new() { U0 = -85.637963155, U1 = 37.610866469 },
                            new() { U0 = -85.638051106, U1 = 37.610728405 },
                            new() { U0 = -85.638154948, U1 = 37.6105297300001 },
                            new() { U0 = -85.638236636, U1 = 37.610324614 },
                            new() { U0 = -85.638865422, U1 = 37.608581863 },
                            new() { U0 = -85.639088087, U1 = 37.6079577400001 },
                            new() { U0 = -85.639258432, U1 = 37.6074407940001 },
                            new() { U0 = -85.639370621, U1 = 37.6070387170001 },
                            new() { U0 = -85.6395152, U1 = 37.606473147 },
                            new() { U0 = -85.639616319, U1 = 37.6061303440001 },
                            new() { U0 = -85.6396376289999, U1 = 37.6060703140001 },
                            new() { U0 = -85.6397266829999, U1 = 37.6058644 },
                            new() { U0 = -85.639900131, U1 = 37.6059675350001 },
                            new() { U0 = -85.6402003009999, U1 = 37.6058025290001 },
                            new() { U0 = -85.6403918189999, U1 = 37.6058383240001 },
                            new() { U0 = -85.642589379, U1 = 37.606927199 },
                            new() { U0 = -85.643429237, U1 = 37.6080961700001 },
                            new() { U0 = -85.646001681, U1 = 37.6084527730001 },
                            new() { U0 = -85.646439887, U1 = 37.6081934690001 },
                            new() { U0 = -85.648967179, U1 = 37.6086991060001 },
                            new() { U0 = -85.649181228, U1 = 37.60954595 },
                            new() { U0 = -85.649169655, U1 = 37.6111267110001 },
                            new() { U0 = -85.648763806, U1 = 37.6114895330001 },
                            new() { U0 = -85.64824328, U1 = 37.6120663200001 },
                            new() { U0 = -85.648817433, U1 = 37.612874634 },
                            new() { U0 = -85.650380245, U1 = 37.6152926340001 },
                            new() { U0 = -85.652150768, U1 = 37.6180041850001 },
                            new() { U0 = -85.652197396, U1 = 37.618329363 },
                            new() { U0 = -85.6514839069999, U1 = 37.6179431630001 },
                            new() { U0 = -85.6507839829999, U1 = 37.6178242170001 },
                            new() { U0 = -85.65025421, U1 = 37.6175852980001 },
                            new() { U0 = -85.650112086, U1 = 37.6178424980001 },
                            new() { U0 = -85.648830327, U1 = 37.617738107 },
                            new() { U0 = -85.647848959, U1 = 37.6179112290001 },
                            new() { U0 = -85.6474889689999, U1 = 37.6180273910001 },
                            new() { U0 = -85.647245964, U1 = 37.618135533 },
                            new() { U0 = -85.646775141, U1 = 37.6179090140001 },
                            new() { U0 = -85.645749453, U1 = 37.6166885210001 },
                            new() { U0 = -85.645479397, U1 = 37.6162008650001 },
                            new() { U0 = -85.644911033, U1 = 37.61534119 },
                            new() { U0 = -85.644662293, U1 = 37.6152134050001 },
                            new() { U0 = -85.644143594, U1 = 37.6149841640001 },
                            new() { U0 = -85.642667254, U1 = 37.6138255490001 },
                            new() { U0 = -85.641578383, U1 = 37.613087314 },
                            new() { U0 = -85.640816602, U1 = 37.6127168190001 },
                            new() { U0 = -85.6402558949999, U1 = 37.6136692480001 },
                            new() { U0 = -85.6395901879999, U1 = 37.6136133520001 },
                            new() { U0 = -85.639359562, U1 = 37.6136493380001 },
                            new() { U0 = -85.638728804, U1 = 37.613325693 },
                            new() { U0 = -85.638207887, U1 = 37.6130715150001 },
                            new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                            new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                        ],
                    ],
                    [
                        [
                            new() { U0 = -85.739319133, U1 = 37.531169359 },
                            new() { U0 = -85.740773721, U1 = 37.5320971150001 },
                            new() { U0 = -85.734873138, U1 = 37.533780898 },
                            new() { U0 = -85.730639853, U1 = 37.5353625870001 },
                            new() { U0 = -85.73055096, U1 = 37.5353998410001 },
                            new() { U0 = -85.7315961639999, U1 = 37.535961075 },
                            new() { U0 = -85.731596084, U1 = 37.5362925440001 },
                            new() { U0 = -85.731061192, U1 = 37.5367402210001 },
                            new() { U0 = -85.729570557, U1 = 37.5367065150001 },
                            new() { U0 = -85.7290594689999, U1 = 37.5294924780001 },
                            new() { U0 = -85.7349807589999, U1 = 37.5301228940001 },
                            new() { U0 = -85.7379587, U1 = 37.530304288 },
                            new() { U0 = -85.738799762, U1 = 37.5293059380001 },
                            new() { U0 = -85.7402771659999, U1 = 37.5300512950001 },
                            new() { U0 = -85.739319133, U1 = 37.531169359 },
                            new() { U0 = -85.739319133, U1 = 37.531169359 },
                        ],
                    ],
                ],
                Type = "MultiPolygon",
            },
            Properties = new() { ParkClass = "legislative and mask fill" },
            Type = "Feature",
        };

        string json = JsonSerializer.Serialize(model);
        var deserialized = JsonSerializer.Deserialize<MapdataRetrieveParkBoundariesResponse>(json);

        Assert.Equal(model, deserialized);
    }

    [Fact]
    public void FieldRoundtripThroughSerialization_Works()
    {
        var model = new MapdataRetrieveParkBoundariesResponse
        {
            ID = "abli",
            Geometry = new()
            {
                Coordinates =
                [
                    [
                        [
                            new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                            new() { U0 = -85.636381755, U1 = 37.612077341 },
                            new() { U0 = -85.635495971, U1 = 37.611435726 },
                            new() { U0 = -85.637544162, U1 = 37.609820461 },
                            new() { U0 = -85.639230663, U1 = 37.6055079000001 },
                            new() { U0 = -85.639563382, U1 = 37.6057470320001 },
                            new() { U0 = -85.639534163, U1 = 37.605803629 },
                            new() { U0 = -85.6393128509999, U1 = 37.606437891 },
                            new() { U0 = -85.639168021, U1 = 37.6070044410001 },
                            new() { U0 = -85.639057081, U1 = 37.607402032 },
                            new() { U0 = -85.63888826, U1 = 37.6079143470001 },
                            new() { U0 = -85.638666248, U1 = 37.6085366360001 },
                            new() { U0 = -85.638037515, U1 = 37.6102791430001 },
                            new() { U0 = -85.637961563, U1 = 37.6104706310001 },
                            new() { U0 = -85.6378649279999, U1 = 37.6106561280001 },
                            new() { U0 = -85.6377840439999, U1 = 37.6107835820001 },
                            new() { U0 = -85.637499176, U1 = 37.611094957 },
                            new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                            new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                        ],
                    ],
                    [
                        [
                            new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                            new() { U0 = -85.636878101, U1 = 37.6126500880001 },
                            new() { U0 = -85.6366623549999, U1 = 37.6126334380001 },
                            new() { U0 = -85.636390609, U1 = 37.6123834220001 },
                            new() { U0 = -85.636619965, U1 = 37.6121718360001 },
                            new() { U0 = -85.6372642709999, U1 = 37.6115667400001 },
                            new() { U0 = -85.637656759, U1 = 37.6112019030001 },
                            new() { U0 = -85.637963155, U1 = 37.610866469 },
                            new() { U0 = -85.638051106, U1 = 37.610728405 },
                            new() { U0 = -85.638154948, U1 = 37.6105297300001 },
                            new() { U0 = -85.638236636, U1 = 37.610324614 },
                            new() { U0 = -85.638865422, U1 = 37.608581863 },
                            new() { U0 = -85.639088087, U1 = 37.6079577400001 },
                            new() { U0 = -85.639258432, U1 = 37.6074407940001 },
                            new() { U0 = -85.639370621, U1 = 37.6070387170001 },
                            new() { U0 = -85.6395152, U1 = 37.606473147 },
                            new() { U0 = -85.639616319, U1 = 37.6061303440001 },
                            new() { U0 = -85.6396376289999, U1 = 37.6060703140001 },
                            new() { U0 = -85.6397266829999, U1 = 37.6058644 },
                            new() { U0 = -85.639900131, U1 = 37.6059675350001 },
                            new() { U0 = -85.6402003009999, U1 = 37.6058025290001 },
                            new() { U0 = -85.6403918189999, U1 = 37.6058383240001 },
                            new() { U0 = -85.642589379, U1 = 37.606927199 },
                            new() { U0 = -85.643429237, U1 = 37.6080961700001 },
                            new() { U0 = -85.646001681, U1 = 37.6084527730001 },
                            new() { U0 = -85.646439887, U1 = 37.6081934690001 },
                            new() { U0 = -85.648967179, U1 = 37.6086991060001 },
                            new() { U0 = -85.649181228, U1 = 37.60954595 },
                            new() { U0 = -85.649169655, U1 = 37.6111267110001 },
                            new() { U0 = -85.648763806, U1 = 37.6114895330001 },
                            new() { U0 = -85.64824328, U1 = 37.6120663200001 },
                            new() { U0 = -85.648817433, U1 = 37.612874634 },
                            new() { U0 = -85.650380245, U1 = 37.6152926340001 },
                            new() { U0 = -85.652150768, U1 = 37.6180041850001 },
                            new() { U0 = -85.652197396, U1 = 37.618329363 },
                            new() { U0 = -85.6514839069999, U1 = 37.6179431630001 },
                            new() { U0 = -85.6507839829999, U1 = 37.6178242170001 },
                            new() { U0 = -85.65025421, U1 = 37.6175852980001 },
                            new() { U0 = -85.650112086, U1 = 37.6178424980001 },
                            new() { U0 = -85.648830327, U1 = 37.617738107 },
                            new() { U0 = -85.647848959, U1 = 37.6179112290001 },
                            new() { U0 = -85.6474889689999, U1 = 37.6180273910001 },
                            new() { U0 = -85.647245964, U1 = 37.618135533 },
                            new() { U0 = -85.646775141, U1 = 37.6179090140001 },
                            new() { U0 = -85.645749453, U1 = 37.6166885210001 },
                            new() { U0 = -85.645479397, U1 = 37.6162008650001 },
                            new() { U0 = -85.644911033, U1 = 37.61534119 },
                            new() { U0 = -85.644662293, U1 = 37.6152134050001 },
                            new() { U0 = -85.644143594, U1 = 37.6149841640001 },
                            new() { U0 = -85.642667254, U1 = 37.6138255490001 },
                            new() { U0 = -85.641578383, U1 = 37.613087314 },
                            new() { U0 = -85.640816602, U1 = 37.6127168190001 },
                            new() { U0 = -85.6402558949999, U1 = 37.6136692480001 },
                            new() { U0 = -85.6395901879999, U1 = 37.6136133520001 },
                            new() { U0 = -85.639359562, U1 = 37.6136493380001 },
                            new() { U0 = -85.638728804, U1 = 37.613325693 },
                            new() { U0 = -85.638207887, U1 = 37.6130715150001 },
                            new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                            new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                        ],
                    ],
                    [
                        [
                            new() { U0 = -85.739319133, U1 = 37.531169359 },
                            new() { U0 = -85.740773721, U1 = 37.5320971150001 },
                            new() { U0 = -85.734873138, U1 = 37.533780898 },
                            new() { U0 = -85.730639853, U1 = 37.5353625870001 },
                            new() { U0 = -85.73055096, U1 = 37.5353998410001 },
                            new() { U0 = -85.7315961639999, U1 = 37.535961075 },
                            new() { U0 = -85.731596084, U1 = 37.5362925440001 },
                            new() { U0 = -85.731061192, U1 = 37.5367402210001 },
                            new() { U0 = -85.729570557, U1 = 37.5367065150001 },
                            new() { U0 = -85.7290594689999, U1 = 37.5294924780001 },
                            new() { U0 = -85.7349807589999, U1 = 37.5301228940001 },
                            new() { U0 = -85.7379587, U1 = 37.530304288 },
                            new() { U0 = -85.738799762, U1 = 37.5293059380001 },
                            new() { U0 = -85.7402771659999, U1 = 37.5300512950001 },
                            new() { U0 = -85.739319133, U1 = 37.531169359 },
                            new() { U0 = -85.739319133, U1 = 37.531169359 },
                        ],
                    ],
                ],
                Type = "MultiPolygon",
            },
            Properties = new() { ParkClass = "legislative and mask fill" },
            Type = "Feature",
        };

        string element = JsonSerializer.Serialize(model);
        var deserialized = JsonSerializer.Deserialize<MapdataRetrieveParkBoundariesResponse>(
            element
        );
        Assert.NotNull(deserialized);

        string expectedID = "abli";
        Geometry expectedGeometry = new()
        {
            Coordinates =
            [
                [
                    [
                        new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                        new() { U0 = -85.636381755, U1 = 37.612077341 },
                        new() { U0 = -85.635495971, U1 = 37.611435726 },
                        new() { U0 = -85.637544162, U1 = 37.609820461 },
                        new() { U0 = -85.639230663, U1 = 37.6055079000001 },
                        new() { U0 = -85.639563382, U1 = 37.6057470320001 },
                        new() { U0 = -85.639534163, U1 = 37.605803629 },
                        new() { U0 = -85.6393128509999, U1 = 37.606437891 },
                        new() { U0 = -85.639168021, U1 = 37.6070044410001 },
                        new() { U0 = -85.639057081, U1 = 37.607402032 },
                        new() { U0 = -85.63888826, U1 = 37.6079143470001 },
                        new() { U0 = -85.638666248, U1 = 37.6085366360001 },
                        new() { U0 = -85.638037515, U1 = 37.6102791430001 },
                        new() { U0 = -85.637961563, U1 = 37.6104706310001 },
                        new() { U0 = -85.6378649279999, U1 = 37.6106561280001 },
                        new() { U0 = -85.6377840439999, U1 = 37.6107835820001 },
                        new() { U0 = -85.637499176, U1 = 37.611094957 },
                        new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                        new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                    ],
                ],
                [
                    [
                        new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                        new() { U0 = -85.636878101, U1 = 37.6126500880001 },
                        new() { U0 = -85.6366623549999, U1 = 37.6126334380001 },
                        new() { U0 = -85.636390609, U1 = 37.6123834220001 },
                        new() { U0 = -85.636619965, U1 = 37.6121718360001 },
                        new() { U0 = -85.6372642709999, U1 = 37.6115667400001 },
                        new() { U0 = -85.637656759, U1 = 37.6112019030001 },
                        new() { U0 = -85.637963155, U1 = 37.610866469 },
                        new() { U0 = -85.638051106, U1 = 37.610728405 },
                        new() { U0 = -85.638154948, U1 = 37.6105297300001 },
                        new() { U0 = -85.638236636, U1 = 37.610324614 },
                        new() { U0 = -85.638865422, U1 = 37.608581863 },
                        new() { U0 = -85.639088087, U1 = 37.6079577400001 },
                        new() { U0 = -85.639258432, U1 = 37.6074407940001 },
                        new() { U0 = -85.639370621, U1 = 37.6070387170001 },
                        new() { U0 = -85.6395152, U1 = 37.606473147 },
                        new() { U0 = -85.639616319, U1 = 37.6061303440001 },
                        new() { U0 = -85.6396376289999, U1 = 37.6060703140001 },
                        new() { U0 = -85.6397266829999, U1 = 37.6058644 },
                        new() { U0 = -85.639900131, U1 = 37.6059675350001 },
                        new() { U0 = -85.6402003009999, U1 = 37.6058025290001 },
                        new() { U0 = -85.6403918189999, U1 = 37.6058383240001 },
                        new() { U0 = -85.642589379, U1 = 37.606927199 },
                        new() { U0 = -85.643429237, U1 = 37.6080961700001 },
                        new() { U0 = -85.646001681, U1 = 37.6084527730001 },
                        new() { U0 = -85.646439887, U1 = 37.6081934690001 },
                        new() { U0 = -85.648967179, U1 = 37.6086991060001 },
                        new() { U0 = -85.649181228, U1 = 37.60954595 },
                        new() { U0 = -85.649169655, U1 = 37.6111267110001 },
                        new() { U0 = -85.648763806, U1 = 37.6114895330001 },
                        new() { U0 = -85.64824328, U1 = 37.6120663200001 },
                        new() { U0 = -85.648817433, U1 = 37.612874634 },
                        new() { U0 = -85.650380245, U1 = 37.6152926340001 },
                        new() { U0 = -85.652150768, U1 = 37.6180041850001 },
                        new() { U0 = -85.652197396, U1 = 37.618329363 },
                        new() { U0 = -85.6514839069999, U1 = 37.6179431630001 },
                        new() { U0 = -85.6507839829999, U1 = 37.6178242170001 },
                        new() { U0 = -85.65025421, U1 = 37.6175852980001 },
                        new() { U0 = -85.650112086, U1 = 37.6178424980001 },
                        new() { U0 = -85.648830327, U1 = 37.617738107 },
                        new() { U0 = -85.647848959, U1 = 37.6179112290001 },
                        new() { U0 = -85.6474889689999, U1 = 37.6180273910001 },
                        new() { U0 = -85.647245964, U1 = 37.618135533 },
                        new() { U0 = -85.646775141, U1 = 37.6179090140001 },
                        new() { U0 = -85.645749453, U1 = 37.6166885210001 },
                        new() { U0 = -85.645479397, U1 = 37.6162008650001 },
                        new() { U0 = -85.644911033, U1 = 37.61534119 },
                        new() { U0 = -85.644662293, U1 = 37.6152134050001 },
                        new() { U0 = -85.644143594, U1 = 37.6149841640001 },
                        new() { U0 = -85.642667254, U1 = 37.6138255490001 },
                        new() { U0 = -85.641578383, U1 = 37.613087314 },
                        new() { U0 = -85.640816602, U1 = 37.6127168190001 },
                        new() { U0 = -85.6402558949999, U1 = 37.6136692480001 },
                        new() { U0 = -85.6395901879999, U1 = 37.6136133520001 },
                        new() { U0 = -85.639359562, U1 = 37.6136493380001 },
                        new() { U0 = -85.638728804, U1 = 37.613325693 },
                        new() { U0 = -85.638207887, U1 = 37.6130715150001 },
                        new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                        new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                    ],
                ],
                [
                    [
                        new() { U0 = -85.739319133, U1 = 37.531169359 },
                        new() { U0 = -85.740773721, U1 = 37.5320971150001 },
                        new() { U0 = -85.734873138, U1 = 37.533780898 },
                        new() { U0 = -85.730639853, U1 = 37.5353625870001 },
                        new() { U0 = -85.73055096, U1 = 37.5353998410001 },
                        new() { U0 = -85.7315961639999, U1 = 37.535961075 },
                        new() { U0 = -85.731596084, U1 = 37.5362925440001 },
                        new() { U0 = -85.731061192, U1 = 37.5367402210001 },
                        new() { U0 = -85.729570557, U1 = 37.5367065150001 },
                        new() { U0 = -85.7290594689999, U1 = 37.5294924780001 },
                        new() { U0 = -85.7349807589999, U1 = 37.5301228940001 },
                        new() { U0 = -85.7379587, U1 = 37.530304288 },
                        new() { U0 = -85.738799762, U1 = 37.5293059380001 },
                        new() { U0 = -85.7402771659999, U1 = 37.5300512950001 },
                        new() { U0 = -85.739319133, U1 = 37.531169359 },
                        new() { U0 = -85.739319133, U1 = 37.531169359 },
                    ],
                ],
            ],
            Type = "MultiPolygon",
        };
        Properties expectedProperties = new() { ParkClass = "legislative and mask fill" };
        string expectedType = "Feature";

        Assert.Equal(expectedID, deserialized.ID);
        Assert.Equal(expectedGeometry, deserialized.Geometry);
        Assert.Equal(expectedProperties, deserialized.Properties);
        Assert.Equal(expectedType, deserialized.Type);
    }

    [Fact]
    public void Validation_Works()
    {
        var model = new MapdataRetrieveParkBoundariesResponse
        {
            ID = "abli",
            Geometry = new()
            {
                Coordinates =
                [
                    [
                        [
                            new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                            new() { U0 = -85.636381755, U1 = 37.612077341 },
                            new() { U0 = -85.635495971, U1 = 37.611435726 },
                            new() { U0 = -85.637544162, U1 = 37.609820461 },
                            new() { U0 = -85.639230663, U1 = 37.6055079000001 },
                            new() { U0 = -85.639563382, U1 = 37.6057470320001 },
                            new() { U0 = -85.639534163, U1 = 37.605803629 },
                            new() { U0 = -85.6393128509999, U1 = 37.606437891 },
                            new() { U0 = -85.639168021, U1 = 37.6070044410001 },
                            new() { U0 = -85.639057081, U1 = 37.607402032 },
                            new() { U0 = -85.63888826, U1 = 37.6079143470001 },
                            new() { U0 = -85.638666248, U1 = 37.6085366360001 },
                            new() { U0 = -85.638037515, U1 = 37.6102791430001 },
                            new() { U0 = -85.637961563, U1 = 37.6104706310001 },
                            new() { U0 = -85.6378649279999, U1 = 37.6106561280001 },
                            new() { U0 = -85.6377840439999, U1 = 37.6107835820001 },
                            new() { U0 = -85.637499176, U1 = 37.611094957 },
                            new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                            new() { U0 = -85.6371062169999, U1 = 37.611460235 },
                        ],
                    ],
                    [
                        [
                            new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                            new() { U0 = -85.636878101, U1 = 37.6126500880001 },
                            new() { U0 = -85.6366623549999, U1 = 37.6126334380001 },
                            new() { U0 = -85.636390609, U1 = 37.6123834220001 },
                            new() { U0 = -85.636619965, U1 = 37.6121718360001 },
                            new() { U0 = -85.6372642709999, U1 = 37.6115667400001 },
                            new() { U0 = -85.637656759, U1 = 37.6112019030001 },
                            new() { U0 = -85.637963155, U1 = 37.610866469 },
                            new() { U0 = -85.638051106, U1 = 37.610728405 },
                            new() { U0 = -85.638154948, U1 = 37.6105297300001 },
                            new() { U0 = -85.638236636, U1 = 37.610324614 },
                            new() { U0 = -85.638865422, U1 = 37.608581863 },
                            new() { U0 = -85.639088087, U1 = 37.6079577400001 },
                            new() { U0 = -85.639258432, U1 = 37.6074407940001 },
                            new() { U0 = -85.639370621, U1 = 37.6070387170001 },
                            new() { U0 = -85.6395152, U1 = 37.606473147 },
                            new() { U0 = -85.639616319, U1 = 37.6061303440001 },
                            new() { U0 = -85.6396376289999, U1 = 37.6060703140001 },
                            new() { U0 = -85.6397266829999, U1 = 37.6058644 },
                            new() { U0 = -85.639900131, U1 = 37.6059675350001 },
                            new() { U0 = -85.6402003009999, U1 = 37.6058025290001 },
                            new() { U0 = -85.6403918189999, U1 = 37.6058383240001 },
                            new() { U0 = -85.642589379, U1 = 37.606927199 },
                            new() { U0 = -85.643429237, U1 = 37.6080961700001 },
                            new() { U0 = -85.646001681, U1 = 37.6084527730001 },
                            new() { U0 = -85.646439887, U1 = 37.6081934690001 },
                            new() { U0 = -85.648967179, U1 = 37.6086991060001 },
                            new() { U0 = -85.649181228, U1 = 37.60954595 },
                            new() { U0 = -85.649169655, U1 = 37.6111267110001 },
                            new() { U0 = -85.648763806, U1 = 37.6114895330001 },
                            new() { U0 = -85.64824328, U1 = 37.6120663200001 },
                            new() { U0 = -85.648817433, U1 = 37.612874634 },
                            new() { U0 = -85.650380245, U1 = 37.6152926340001 },
                            new() { U0 = -85.652150768, U1 = 37.6180041850001 },
                            new() { U0 = -85.652197396, U1 = 37.618329363 },
                            new() { U0 = -85.6514839069999, U1 = 37.6179431630001 },
                            new() { U0 = -85.6507839829999, U1 = 37.6178242170001 },
                            new() { U0 = -85.65025421, U1 = 37.6175852980001 },
                            new() { U0 = -85.650112086, U1 = 37.6178424980001 },
                            new() { U0 = -85.648830327, U1 = 37.617738107 },
                            new() { U0 = -85.647848959, U1 = 37.6179112290001 },
                            new() { U0 = -85.6474889689999, U1 = 37.6180273910001 },
                            new() { U0 = -85.647245964, U1 = 37.618135533 },
                            new() { U0 = -85.646775141, U1 = 37.6179090140001 },
                            new() { U0 = -85.645749453, U1 = 37.6166885210001 },
                            new() { U0 = -85.645479397, U1 = 37.6162008650001 },
                            new() { U0 = -85.644911033, U1 = 37.61534119 },
                            new() { U0 = -85.644662293, U1 = 37.6152134050001 },
                            new() { U0 = -85.644143594, U1 = 37.6149841640001 },
                            new() { U0 = -85.642667254, U1 = 37.6138255490001 },
                            new() { U0 = -85.641578383, U1 = 37.613087314 },
                            new() { U0 = -85.640816602, U1 = 37.6127168190001 },
                            new() { U0 = -85.6402558949999, U1 = 37.6136692480001 },
                            new() { U0 = -85.6395901879999, U1 = 37.6136133520001 },
                            new() { U0 = -85.639359562, U1 = 37.6136493380001 },
                            new() { U0 = -85.638728804, U1 = 37.613325693 },
                            new() { U0 = -85.638207887, U1 = 37.6130715150001 },
                            new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                            new() { U0 = -85.637193299, U1 = 37.6127633200001 },
                        ],
                    ],
                    [
                        [
                            new() { U0 = -85.739319133, U1 = 37.531169359 },
                            new() { U0 = -85.740773721, U1 = 37.5320971150001 },
                            new() { U0 = -85.734873138, U1 = 37.533780898 },
                            new() { U0 = -85.730639853, U1 = 37.5353625870001 },
                            new() { U0 = -85.73055096, U1 = 37.5353998410001 },
                            new() { U0 = -85.7315961639999, U1 = 37.535961075 },
                            new() { U0 = -85.731596084, U1 = 37.5362925440001 },
                            new() { U0 = -85.731061192, U1 = 37.5367402210001 },
                            new() { U0 = -85.729570557, U1 = 37.5367065150001 },
                            new() { U0 = -85.7290594689999, U1 = 37.5294924780001 },
                            new() { U0 = -85.7349807589999, U1 = 37.5301228940001 },
                            new() { U0 = -85.7379587, U1 = 37.530304288 },
                            new() { U0 = -85.738799762, U1 = 37.5293059380001 },
                            new() { U0 = -85.7402771659999, U1 = 37.5300512950001 },
                            new() { U0 = -85.739319133, U1 = 37.531169359 },
                            new() { U0 = -85.739319133, U1 = 37.531169359 },
                        ],
                    ],
                ],
                Type = "MultiPolygon",
            },
            Properties = new() { ParkClass = "legislative and mask fill" },
            Type = "Feature",
        };

        model.Validate();
    }

    [Fact]
    public void OptionalNonNullablePropertiesUnsetAreNotSet_Works()
    {
        var model = new MapdataRetrieveParkBoundariesResponse { };

        Assert.Null(model.ID);
        Assert.False(model.RawData.ContainsKey("id"));
        Assert.Null(model.Geometry);
        Assert.False(model.RawData.ContainsKey("geometry"));
        Assert.Null(model.Properties);
        Assert.False(model.RawData.ContainsKey("properties"));
        Assert.Null(model.Type);
        Assert.False(model.RawData.ContainsKey("type"));
    }

    [Fact]
    public void OptionalNonNullablePropertiesUnsetValidation_Works()
    {
        var model = new MapdataRetrieveParkBoundariesResponse { };

        model.Validate();
    }

    [Fact]
    public void OptionalNonNullablePropertiesSetToNullAreNotSet_Works()
    {
        var model = new MapdataRetrieveParkBoundariesResponse
        {
            // Null should be interpreted as omitted for these properties
            ID = null,
            Geometry = null,
            Properties = null,
            Type = null,
        };

        Assert.Null(model.ID);
        Assert.False(model.RawData.ContainsKey("id"));
        Assert.Null(model.Geometry);
        Assert.False(model.RawData.ContainsKey("geometry"));
        Assert.Null(model.Properties);
        Assert.False(model.RawData.ContainsKey("properties"));
        Assert.Null(model.Type);
        Assert.False(model.RawData.ContainsKey("type"));
    }

    [Fact]
    public void OptionalNonNullablePropertiesSetToNullValidation_Works()
    {
        var model = new MapdataRetrieveParkBoundariesResponse
        {
            // Null should be interpreted as omitted for these properties
            ID = null,
            Geometry = null,
            Properties = null,
            Type = null,
        };

        model.Validate();
    }
}

public class GeometryTest : TestBase
{
    [Fact]
    public void FieldRoundtrip_Works()
    {
        var model = new Geometry
        {
            Coordinates =
            [
                [
                    [new() { U0 = 0, U1 = 0 }],
                ],
            ],
            Type = "MultiPolygon",
        };

        List<List<List<UnnamedSchemaWithArrayParent0>>> expectedCoordinates =
        [
            [
                [new() { U0 = 0, U1 = 0 }],
            ],
        ];
        string expectedType = "MultiPolygon";

        Assert.NotNull(model.Coordinates);
        Assert.Equal(expectedCoordinates.Count, model.Coordinates.Count);
        for (int i = 0; i < expectedCoordinates.Count; i++)
        {
            Assert.Equal(expectedCoordinates[i].Count, model.Coordinates[i].Count);
            for (int i1 = 0; i1 < expectedCoordinates[i].Count; i1++)
            {
                Assert.Equal(expectedCoordinates[i][i1].Count, model.Coordinates[i][i1].Count);
                for (int i2 = 0; i2 < expectedCoordinates[i][i1].Count; i2++)
                {
                    Assert.Equal(expectedCoordinates[i][i1][i2], model.Coordinates[i][i1][i2]);
                }
            }
        }
        Assert.Equal(expectedType, model.Type);
    }

    [Fact]
    public void SerializationRoundtrip_Works()
    {
        var model = new Geometry
        {
            Coordinates =
            [
                [
                    [new() { U0 = 0, U1 = 0 }],
                ],
            ],
            Type = "MultiPolygon",
        };

        string json = JsonSerializer.Serialize(model);
        var deserialized = JsonSerializer.Deserialize<Geometry>(json);

        Assert.Equal(model, deserialized);
    }

    [Fact]
    public void FieldRoundtripThroughSerialization_Works()
    {
        var model = new Geometry
        {
            Coordinates =
            [
                [
                    [new() { U0 = 0, U1 = 0 }],
                ],
            ],
            Type = "MultiPolygon",
        };

        string element = JsonSerializer.Serialize(model);
        var deserialized = JsonSerializer.Deserialize<Geometry>(element);
        Assert.NotNull(deserialized);

        List<List<List<UnnamedSchemaWithArrayParent0>>> expectedCoordinates =
        [
            [
                [new() { U0 = 0, U1 = 0 }],
            ],
        ];
        string expectedType = "MultiPolygon";

        Assert.NotNull(deserialized.Coordinates);
        Assert.Equal(expectedCoordinates.Count, deserialized.Coordinates.Count);
        for (int i = 0; i < expectedCoordinates.Count; i++)
        {
            Assert.Equal(expectedCoordinates[i].Count, deserialized.Coordinates[i].Count);
            for (int i1 = 0; i1 < expectedCoordinates[i].Count; i1++)
            {
                Assert.Equal(
                    expectedCoordinates[i][i1].Count,
                    deserialized.Coordinates[i][i1].Count
                );
                for (int i2 = 0; i2 < expectedCoordinates[i][i1].Count; i2++)
                {
                    Assert.Equal(
                        expectedCoordinates[i][i1][i2],
                        deserialized.Coordinates[i][i1][i2]
                    );
                }
            }
        }
        Assert.Equal(expectedType, deserialized.Type);
    }

    [Fact]
    public void Validation_Works()
    {
        var model = new Geometry
        {
            Coordinates =
            [
                [
                    [new() { U0 = 0, U1 = 0 }],
                ],
            ],
            Type = "MultiPolygon",
        };

        model.Validate();
    }

    [Fact]
    public void OptionalNonNullablePropertiesUnsetAreNotSet_Works()
    {
        var model = new Geometry { };

        Assert.Null(model.Coordinates);
        Assert.False(model.RawData.ContainsKey("coordinates"));
        Assert.Null(model.Type);
        Assert.False(model.RawData.ContainsKey("type"));
    }

    [Fact]
    public void OptionalNonNullablePropertiesUnsetValidation_Works()
    {
        var model = new Geometry { };

        model.Validate();
    }

    [Fact]
    public void OptionalNonNullablePropertiesSetToNullAreNotSet_Works()
    {
        var model = new Geometry
        {
            // Null should be interpreted as omitted for these properties
            Coordinates = null,
            Type = null,
        };

        Assert.Null(model.Coordinates);
        Assert.False(model.RawData.ContainsKey("coordinates"));
        Assert.Null(model.Type);
        Assert.False(model.RawData.ContainsKey("type"));
    }

    [Fact]
    public void OptionalNonNullablePropertiesSetToNullValidation_Works()
    {
        var model = new Geometry
        {
            // Null should be interpreted as omitted for these properties
            Coordinates = null,
            Type = null,
        };

        model.Validate();
    }
}

public class UnnamedSchemaWithArrayParent0Test : TestBase
{
    [Fact]
    public void FieldRoundtrip_Works()
    {
        var model = new UnnamedSchemaWithArrayParent0 { U0 = 0, U1 = 0 };

        double expectedU0 = 0;
        double expectedU1 = 0;

        Assert.Equal(expectedU0, model.U0);
        Assert.Equal(expectedU1, model.U1);
    }

    [Fact]
    public void SerializationRoundtrip_Works()
    {
        var model = new UnnamedSchemaWithArrayParent0 { U0 = 0, U1 = 0 };

        string json = JsonSerializer.Serialize(model);
        var deserialized = JsonSerializer.Deserialize<UnnamedSchemaWithArrayParent0>(json);

        Assert.Equal(model, deserialized);
    }

    [Fact]
    public void FieldRoundtripThroughSerialization_Works()
    {
        var model = new UnnamedSchemaWithArrayParent0 { U0 = 0, U1 = 0 };

        string element = JsonSerializer.Serialize(model);
        var deserialized = JsonSerializer.Deserialize<UnnamedSchemaWithArrayParent0>(element);
        Assert.NotNull(deserialized);

        double expectedU0 = 0;
        double expectedU1 = 0;

        Assert.Equal(expectedU0, deserialized.U0);
        Assert.Equal(expectedU1, deserialized.U1);
    }

    [Fact]
    public void Validation_Works()
    {
        var model = new UnnamedSchemaWithArrayParent0 { U0 = 0, U1 = 0 };

        model.Validate();
    }

    [Fact]
    public void OptionalNonNullablePropertiesUnsetAreNotSet_Works()
    {
        var model = new UnnamedSchemaWithArrayParent0 { };

        Assert.Null(model.U0);
        Assert.False(model.RawData.ContainsKey("0"));
        Assert.Null(model.U1);
        Assert.False(model.RawData.ContainsKey("1"));
    }

    [Fact]
    public void OptionalNonNullablePropertiesUnsetValidation_Works()
    {
        var model = new UnnamedSchemaWithArrayParent0 { };

        model.Validate();
    }

    [Fact]
    public void OptionalNonNullablePropertiesSetToNullAreNotSet_Works()
    {
        var model = new UnnamedSchemaWithArrayParent0
        {
            // Null should be interpreted as omitted for these properties
            U0 = null,
            U1 = null,
        };

        Assert.Null(model.U0);
        Assert.False(model.RawData.ContainsKey("0"));
        Assert.Null(model.U1);
        Assert.False(model.RawData.ContainsKey("1"));
    }

    [Fact]
    public void OptionalNonNullablePropertiesSetToNullValidation_Works()
    {
        var model = new UnnamedSchemaWithArrayParent0
        {
            // Null should be interpreted as omitted for these properties
            U0 = null,
            U1 = null,
        };

        model.Validate();
    }
}

public class PropertiesTest : TestBase
{
    [Fact]
    public void FieldRoundtrip_Works()
    {
        var model = new Properties { ParkClass = "legislative and mask fill" };

        string expectedParkClass = "legislative and mask fill";

        Assert.Equal(expectedParkClass, model.ParkClass);
    }

    [Fact]
    public void SerializationRoundtrip_Works()
    {
        var model = new Properties { ParkClass = "legislative and mask fill" };

        string json = JsonSerializer.Serialize(model);
        var deserialized = JsonSerializer.Deserialize<Properties>(json);

        Assert.Equal(model, deserialized);
    }

    [Fact]
    public void FieldRoundtripThroughSerialization_Works()
    {
        var model = new Properties { ParkClass = "legislative and mask fill" };

        string element = JsonSerializer.Serialize(model);
        var deserialized = JsonSerializer.Deserialize<Properties>(element);
        Assert.NotNull(deserialized);

        string expectedParkClass = "legislative and mask fill";

        Assert.Equal(expectedParkClass, deserialized.ParkClass);
    }

    [Fact]
    public void Validation_Works()
    {
        var model = new Properties { ParkClass = "legislative and mask fill" };

        model.Validate();
    }

    [Fact]
    public void OptionalNonNullablePropertiesUnsetAreNotSet_Works()
    {
        var model = new Properties { };

        Assert.Null(model.ParkClass);
        Assert.False(model.RawData.ContainsKey("parkClass"));
    }

    [Fact]
    public void OptionalNonNullablePropertiesUnsetValidation_Works()
    {
        var model = new Properties { };

        model.Validate();
    }

    [Fact]
    public void OptionalNonNullablePropertiesSetToNullAreNotSet_Works()
    {
        var model = new Properties
        {
            // Null should be interpreted as omitted for these properties
            ParkClass = null,
        };

        Assert.Null(model.ParkClass);
        Assert.False(model.RawData.ContainsKey("parkClass"));
    }

    [Fact]
    public void OptionalNonNullablePropertiesSetToNullValidation_Works()
    {
        var model = new Properties
        {
            // Null should be interpreted as omitted for these properties
            ParkClass = null,
        };

        model.Validate();
    }
}
